"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EnvironmentVariablesService = void 0;
const constants_js_1 = require("../constants.js");
const commons_1 = require("@aws-lambda-powertools/commons");
class EnvironmentVariablesService extends commons_1.EnvironmentVariablesService {
    constructor() {
        super(...arguments);
        // Environment variables
        this.parametersMaxAgeVariable = 'POWERTOOLS_PARAMETERS_MAX_AGE';
        this.ssmDecryptVariable = 'POWERTOOLS_PARAMETERS_SSM_DECRYPT';
    }
    /**
     * It returns the value of the POWERTOOLS_PARAMETERS_MAX_AGE environment variable.
     *
     * @returns {number|undefined}
     */
    getParametersMaxAge() {
        const maxAge = this.get(this.parametersMaxAgeVariable);
        if (maxAge.length === 0)
            return undefined;
        const maxAgeAsNumber = parseInt(maxAge, 10);
        if (isNaN(maxAgeAsNumber)) {
            console.warn(`Invalid value for ${this.parametersMaxAgeVariable} environment variable: [${maxAge}], using default value of ${constants_js_1.DEFAULT_MAX_AGE_SECS} seconds`);
        }
        else {
            return maxAgeAsNumber;
        }
    }
    /**
     * It returns the value of the POWERTOOLS_PARAMETERS_SSM_DECRYPT environment variable.
     *
     * @returns {string}
     */
    getSSMDecrypt() {
        return this.get(this.ssmDecryptVariable);
    }
}
exports.EnvironmentVariablesService = EnvironmentVariablesService;
